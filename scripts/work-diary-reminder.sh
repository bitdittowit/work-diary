#!/bin/bash

# –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

SCRIPT_DIR="$HOME/nowork/notes/scripts"
SCRIPT="$SCRIPT_DIR/work-diary.sh"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å (–ø–Ω-–ø—Ç)
day_of_week=$(date +%u)  # 1=–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 7=–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ

if [ "$day_of_week" -ge 1 ] && [ "$day_of_week" -le 5 ]; then
    # –†–∞–±–æ—á–∏–π –¥–µ–Ω—å - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç
    
    # –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ macOS
    osascript -e 'display notification "–ü–æ—Ä–∞ –≤–µ—Å—Ç–∏ –¥–Ω–µ–≤–Ω–∏–∫! üìù" with title "Work Diary" sound name "Glass"' 2>/dev/null
    
    # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º, —á—Ç–æ–±—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±—ã–ª–æ –∑–∞–º–µ—Ç–Ω–æ
    sleep 1
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç
    "$SCRIPT" open
else
    # –í—ã—Ö–æ–¥–Ω–æ–π - –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
    exit 0
fi
